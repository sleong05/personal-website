<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Wok</title>
    <meta name="description" content="Play chess against a simple AI opponent" />
    <meta name="color-scheme" content="dark light" />

    <!-- Favicon -->
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>♟️</text></svg>">

    <!-- Chessboard.js CSS (local) -->
    <link rel="stylesheet" href="./chess/lib/chessboardjs-1.0.0/css/chessboard-1.0.0.css" />

    <!-- Your styles -->
    <link rel="stylesheet" href="./chess/styles.css" />

    <!-- Preload WASM for snappier first move -->
    <link rel="preload" href="./chess/engine.wasm" as="fetch" crossorigin>
</head>

<body>
    <div class="container">
        <h1>♟️ Wok</h1>

        <div class="game-container">
            <div id="inputBlocker"></div>
            <div id="myBoard"></div>
        </div>

        <div id="gameOverPopup">
            <div id="gameOverContent">
                <p id="gameOverMessage">Game Over</p>
                <button id="tryAgainBtn">Play Again</button>
            </div>
        </div>

        <div id="aboutEngine">
            <h2>About This Engine</h2>
            <p>
                This engine runs entirely in your browser via WebAssembly for privacy and portability.
                As a result, it may run slower and play weaker than the native app.
            </p>
        </div>

        <div id="githubLink">
            <a href="https://github.com/sleong05/Wok" target="_blank" rel="noopener noreferrer" class="gh-link">
                <!-- Inline icon (COEP-safe) -->
                <svg aria-hidden="true" width="18" height="18" viewBox="0 0 16 16" fill="currentColor">
                    <path
                        d="M8 .2a8 8 0 0 0-2.53 15.6c.4.08.55-.17.55-.38v-1.33c-2.23.49-2.7-1.07-2.7-1.07-.36-.92-.88-1.16-.88-1.16-.72-.49.05-.48.05-.48.8.06 1.22.82 1.22.82.71 1.22 1.86.87 2.31.66.07-.52.28-.87.5-1.07-1.78-.2-3.65-.89-3.65-3.95 0-.87.31-1.58.82-2.13-.08-.2-.36-1.01.08-2.11 0 0 .67-.22 2.2.82.63-.18 1.3-.27 1.97-.27.67 0 1.34.09 1.97.27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.91.08 2.11.51.55.82 1.26.82 2.13 0 3.07-1.87 3.75-3.66 3.95.29.25.54.73.54 1.47v2.18c0 .21.15.46.55.38A8 8 0 0 0 8 .2Z" />
                </svg>
                <span>View on GitHub</span>
            </a>
        </div>
    </div>

    <!-- Chessboard.js (local). Remove jQuery unless scripts.js uses it -->
    <script src="./chess/lib/jquery-1.12.4.min.js"></script>
    <script src="./chess/lib/chessboardjs-1.0.0/js/chessboard-1.0.0.js"></script>

    <!-- Emscripten loader (built with -sMODULARIZE=1 -sEXPORT_NAME=engine) -->
    <script defer src="./chess/engine.js"></script>

    <!-- Your glue; import chess.js via ESM inside this file -->
    <script type="module" src="./chess/scripts.js"></script>
</body>

</html>